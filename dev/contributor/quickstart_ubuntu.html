
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Development environment quickstart guide (Ubuntu) &#8212; SciPy v1.7.0.dev0+1036.4ec6f29 Manual</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/scipy.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Development workflow" href="development_workflow.html" />
    <link rel="prev" title="Development environment quickstart guide (macOS)" href="quickstart_mac.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/scipyshiny_small.png" class="logo" alt="logo">
</a>      


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../tutorial/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Development
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../release.html">
  Release notes
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/scipy/scipy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    <p class="caption">
 <span class="caption-text">
  Contributing Information
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../conduct/code_of_conduct.html">
   SciPy Code of Conduct
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../hacking.html">
   Ways to Contribute
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="quickerstart_conda.html">
   Development environment quickerstart guide (Linux and Mac)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="contributor_toc.html">
   SciPy contributor guide
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Roadmap
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../roadmap.html">
   SciPy Roadmap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../roadmap-detailed.html">
   Detailed SciPy Roadmap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../toolchain.html">
   Toolchain Roadmap
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  SciPy Organization
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../core-dev/index.html">
   SciPy Core Developer Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../api-dev/api-dev-toc.html">
   SciPy API Development Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../governance/governance.html">
   SciPy Project Governance
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="quickstart_mac.html">
   Development environment quickstart guide (macOS)
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Development environment quickstart guide (Ubuntu)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="development_workflow.html">
   Development workflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pep8.html">
   PEP8 and SciPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rendering_documentation.html">
   Rendering Documentation with Sphinx
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="runtests.html">
   Running SciPy Tests Locally
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="benchmarking.html">
   Benchmarking SciPy with airspeed velocity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cython.html">
   Adding Cython to SciPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="public_cython_api.html">
   Public Cython APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="adding_new.html">
   Adding New Methods, Functions, and Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="continuous_integration.html">
   Continuous Integration
  </a>
 </li>
</ul>

    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building-scipy">
   Building SciPy
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="development-environment-quickstart-guide-ubuntu">
<span id="quickstart-ubuntu"></span><h1>Development environment quickstart guide (Ubuntu)<a class="headerlink" href="#development-environment-quickstart-guide-ubuntu" title="Permalink to this headline">¶</a></h1>
<p>This quickstart guide will cover:</p>
<ul class="simple">
<li><p>setting up and maintaining a development environment, including installing compilers and SciPy build dependencies;</p></li>
<li><p>creating a personal fork of the SciPy repository on GitHub;</p></li>
<li><p>using git to manage a local repository with development branches;</p></li>
<li><p>performing an in-place build of SciPy; and</p></li>
<li><p>creating a virtual environment that adds this development version of SciPy to the Python path</p></li>
</ul>
<p>in Ubuntu. (Tested on 16.04, 18.04, and 20.04). <em>Users running Windows can follow these
instructions after setting up</em> <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux</a> <em>or an Amazon EC2
instance with Ubuntu 20.04. However, the instructions for setting up a
development environment with Docker may be more reliable.</em></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide does not present the only way to set up a development environment; there are many valid choices of Python distribution, C/Fortran compiler, and installation options. The steps here can often be adapted for other choices, but we cannot provide documentation tailored for them.</p>
<p>This guide assumes that you are starting without an existing Python 3 installation. If you already have Python 3, you might want to uninstall it first to avoid ambiguity over which Python version is being used at the command line.</p>
</div>
<section id="building-scipy">
<span id="quickstart-ubuntu-build"></span><h2>Building SciPy<a class="headerlink" href="#building-scipy" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Download, install, and test the latest release of the <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda Distribution of Python</a>. In addition to the latest version of Python 3, the Anaconda Distribution includes dozens of the most popular Python packages for scientific computing, the <code class="docutils literal notranslate"><span class="pre">conda</span></code> package manager, and tools for managing virtual environments.</p>
<p>If you’re installing using the terminal, be sure to follow the “Next Steps”
listed after the installer finishes. You might also need to restart your
terminal window or enter <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">~/.bashrc</span></code> for all the changes to take
effect.</p>
</li>
<li><p>(Optional) In a terminal window, enter <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">list</span></code>. <br> This shows a list of all the Python packages that came with the Anaconda Distribution of Python. Note the latest released version of SciPy is among them; this is not the development version you are going to build and will be able to modify.</p>
<p>Ideally, we’d like to have both versions, and we’d like to be able to switch between the two as needed. <a class="reference external" href="https://medium.freecodecamp.org/why-you-need-python-environments-and-how-to-manage-them-with-conda-85f155f4353c">Virtual environments</a> can do just that. With a few keystrokes in the terminal or even the click of an icon, we can enable or disable our development version. Let’s set that up.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">conda</span></code> is not a recognized command, try restarting your terminal. If it is still not recognized, please see “Should I add Anaconda to the macOS or Linux PATH?” in the <a class="reference external" href="https://docs.anaconda.com/anaconda/user-guide/faq/">Anaconda FAQ</a>.</p>
</div>
</li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">--name</span> <span class="pre">scipydev</span> <span class="pre">python=3.8</span> <span class="pre">numpy</span> <span class="pre">pybind11</span> <span class="pre">cython</span> <span class="pre">pythran</span> <span class="pre">pytest</span> <span class="pre">gfortran_linux-64</span> <span class="pre">gxx_linux-64</span> <span class="pre">sphinx</span> <span class="pre">pydata-sphinx-theme</span> <span class="pre">sphinx-panels</span> <span class="pre">matplotlib</span> <span class="pre">mypy</span> <span class="pre">git</span></code>. <br> This tells <code class="docutils literal notranslate"><span class="pre">conda</span></code> to create a virtual environment named <code class="docutils literal notranslate"><span class="pre">scipydev</span></code> (or another name that you prefer) with several packages.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numpy</span> <span class="pre">pybind11</span> <span class="pre">cython</span> <span class="pre">pythran</span></code> are four packages that SciPy depends on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gfortran_linux-64</span> <span class="pre">gxx_linux-64</span></code> are compilers used to build SciPy’s Fortran, C, and C++ source code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pytest</span></code> is needed for running the test suite.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sphinx</span></code>, <code class="docutils literal notranslate"><span class="pre">pydata-sphinx-theme</span></code>, <code class="docutils literal notranslate"><span class="pre">sphinx-panels</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> are required to render the SciPy documentation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mypy</span></code> is a static type checker for Python. Consider using it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span></code> is a version control system used to download and manage the SciPy source code.</p></li>
</ul>
<p>Note that we’re installing SciPy’s build dependencies and some other software, but not SciPy itself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You could <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span></code> an empty virtual environment first, then
<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span></code> the packages, but creating the virtual environment
with all the packages you need is preferable to installing packages
individually because it makes it easier for <code class="docutils literal notranslate"><span class="pre">conda</span></code> to solve
the package dependencies optimally.</p>
</div>
</li>
<li><p>You’re still in the base environment. Activate your new virtual environment by entering <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">scipydev</span></code>. <br> If you’re working with an old version of <code class="docutils literal notranslate"><span class="pre">conda</span></code>, you might need to type <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">scipydev</span></code> instead (see <a class="reference external" href="https://stackoverflow.com/questions/49600611/python-anaconda-should-i-use-conda-activate-or-source-activate-in-linux)">here</a>). Note that you’ll need to have this virtual environment active whenever you want to work with the development version of SciPy.</p></li>
<li><p>Browse to the <a class="reference external" href="https://github.com/scipy/scipy">SciPy repository on GitHub</a> and <a class="reference external" href="https://help.github.com/en/articles/fork-a-repo">create your own fork</a>. You’ll need to create a GitHub account if you don’t already have one.</p></li>
<li><p>Browse to your fork. Your fork will have a URL like <a class="reference external" href="https://github.com/mdhaber/scipy">https://github.com/mdhaber/scipy</a>, except with your GitHub username in place of “mdhaber”.</p></li>
<li><p>Click the big, green “Clone or download” button, and copy the “.git” URL to the clipboard. The URL will be the same as your fork’s URL, except it will end in “.git”.</p></li>
<li><p>Create a folder for the SciPy source code in a convenient place on your computer. Navigate to it in the terminal.</p></li>
<li><p>Enter the command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> followed by your fork’s .git URL. Note that this creates in the terminal’s working directory a <code class="docutils literal notranslate"><span class="pre">scipy</span></code> folder containing the SciPy source code.</p></li>
<li><p>In the terminal, navigate into the <code class="docutils literal notranslate"><span class="pre">scipy</span></code> root directory (e.g. <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">scipy</span></code>).</p></li>
<li><p>Initialize git submodules: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span></code>.</p></li>
<li><p>Do an in-place build: enter <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">setup.py</span> <span class="pre">build_ext</span> <span class="pre">--inplace</span></code>. <br> This will compile the C, C++, and Fortran code that comes with SciPy. We installed <code class="docutils literal notranslate"><span class="pre">python3</span></code> with Anaconda. <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> is a script in the root directory of SciPy, which is why you have to be in the SciPy root directory to call it. <code class="docutils literal notranslate"><span class="pre">build_ext</span></code> is a command defined in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>, and <code class="docutils literal notranslate"><span class="pre">--inplace</span></code> is an option we’ll use to ensure that the compiling happens in the SciPy directory you already have rather than the default location for Python packages. By building in-place, you avoid having to re-build SciPy before you can test changes to the Python code.</p></li>
<li><p>Test the build: enter <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">runtests.py</span> <span class="pre">-v</span></code>. <code class="docutils literal notranslate"><span class="pre">runtests.py</span></code> is another script in the SciPy root directory. It runs a suite of tests that make sure SciPy is working as it should, and <code class="docutils literal notranslate"><span class="pre">-v</span></code> activates the <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> option to show all the test output. If the tests are successful, you now have a working development build of SciPy! You could stop here, but you would only be able to use this development build when the Python working directory is the SciPy root directory.</p></li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">develop</span> <span class="pre">.</span></code>, where <code class="docutils literal notranslate"><span class="pre">.</span></code> refers to the present directory. <br> This will allow us to <code class="docutils literal notranslate"><span class="pre">import</span></code> the development version of SciPy in Python regardless of Python’s working directory.</p></li>
<li><p>In a new terminal window, test your setup. If you activate your virtual environment (e.g. <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">scipydev</span></code>) and run Python code that imports from SciPy, any changes you make to the SciPy code should be reflected when the code runs. After deactivating the virtual environment (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">deactivate</span></code>), Python imports from the version of SciPy installed by Anaconda. You can also check which version of SciPy you’re using by executing in Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scipy</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
<p>If you have successfully imported a development version of SciPy, the word <code class="docutils literal notranslate"><span class="pre">dev</span></code> will appear in the output, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.6.0</span><span class="o">.</span><span class="n">dev0</span><span class="o">+</span><span class="n">be97f1a</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="quickstart_mac.html" title="previous page">Development environment quickstart guide (macOS)</a>
    <a class='right-next' id="next-link" href="development_workflow.html" title="next page">Development workflow</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2008-2021, The SciPy community.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>